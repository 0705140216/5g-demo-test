(window["webpackJsonp_SickLeave"]=window["webpackJsonp_SickLeave"]||[]).push([["home"],{"0125":function(e,t,a){},"06e4":function(e,t,a){"use strict";var s=a("45b6"),r=a.n(s);r.a},"267c":function(e,t,a){},"290e":function(e,t,a){"use strict";var s=a("ae2b"),r=a.n(s);r.a},"2d69":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form-model",{ref:"form",attrs:{model:e.queryParam,layout:"inline"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"地区",prop:"areaId"}},[a("drop-cascader",{attrs:{options:e.areaOptions,placeholder:"请选择地区"},on:{change:e.handleSearch},model:{value:e.queryParam.areaId,callback:function(t){e.$set(e.queryParam,"areaId",t)},expression:"queryParam.areaId"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学校",prop:"school"}},[a("drop-selector",{attrs:{"allow-clear":"","label-key":"orgName","value-key":"orgId",data:e.schoolList,placeholder:"请选择学校"},on:{change:e.handleSearch},model:{value:e.queryParam.school,callback:function(t){e.$set(e.queryParam,"school",t)},expression:"queryParam.school"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"性别",prop:"sex"}},[a("drop-selector",{attrs:{"allow-clear":"",data:e.sexList,placeholder:"请选择性别"},on:{change:e.handleSearch},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-model-item",{attrs:{label:"时间范围",prop:"rangeTime"}},[a("range-picker",{model:{value:e.queryParam.rangeTime,callback:function(t){e.$set(e.queryParam,"rangeTime",t)},expression:"queryParam.rangeTime"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学生姓名",prop:"stuName"}},[a("a-input",{attrs:{placeholder:"请输入学生姓名"},model:{value:e.queryParam.stuName,callback:function(t){e.$set(e.queryParam,"stuName",t)},expression:"queryParam.stuName"}})],1)],1),a("a-col",{attrs:{md:e.advanced?24:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{ghost:"",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetSearch("form")}}},[e._v("重置")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default","row-key":"id",columns:e.columns,data:e.loadData,alert:!1,"show-pagination":"auto"},scopedSlots:e._u([{key:"sex",fn:function(t){return[e._v(e._s(e._f("getSex")(t)))]}},{key:"description",fn:function(t,a){return[e._v(e._s(t)+"（"+e._s(a.applyPhone)+"）")]}},{key:"action",fn:function(t,s){return[a("a",{on:{click:function(t){return e.handleClick(Object.assign({},{act:0},s))}}},[e._v("查看")])]}}])})],1),e.stuDetailsModal.visible?a("ill-leave-stu-details-modal",e._b({attrs:{visible:e.stuDetailsModal.visible},on:{"update:visible":function(t){return e.$set(e.stuDetailsModal,"visible",t)}}},"ill-leave-stu-details-modal",e.stuDetailsModal,!1)):e._e()],1)},r=[],o=(a("b130"),a("e18c"),a("6ee4")),i=a("e793"),n=a("55c3"),l=a("9f3a"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",e._b({attrs:{"dialog-class":"stu-details-modal"},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("a-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.handleCancel}},[e._v("确定")])]},proxy:!0}])},"a-modal",e.options,!1),[a("a-spin",{attrs:{spinning:e.loading}},[a("a-form-model",{staticClass:"isView",attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"姓名"}},[a("span",[e._v(e._s(e.form.stuName))])]),a("a-form-model-item",{attrs:{label:"性别"}},[a("span",[e._v(e._s(e._f("getSex")(e.form.sex)))])]),a("a-form-model-item",{attrs:{label:"出生日期"}},[a("span",[e._v(e._s(e.form.birth))])]),a("a-form-model-item",{attrs:{label:"学段"}},[a("span",[e._v(e._s(e.form.period))])]),a("a-form-model-item",{attrs:{label:"学年"}},[a("span",[e._v(e._s(e.form.schoolYear))])]),a("a-form-model-item",{attrs:{label:"班级"}},[a("span",[e._v(e._s(e.form.class))])]),a("a-form-model-item",{attrs:{label:"请假开始时间"}},[a("span",[e._v(e._s(e.form.startTime))])]),a("a-form-model-item",{attrs:{label:"请假结束时间"}},[a("span",[e._v(e._s(e.form.endTime))])]),a("a-form-model-item",{attrs:{label:"请假时长"}},[a("span",[e._v(e._s(e.form.durationLeave))])]),a("a-form-model-item",{attrs:{label:"请假原因"}},[a("span",[e._v(e._s(e.form.reasonLeave))])]),a("a-form-model-item",{attrs:{label:"附件"}},[a("a-upload",{attrs:{accept:".png, .jpg, .pdf, .tif, .jpeg, .JPG, .JPEG, .PNG",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":e.form.diagnosisTreat,multiple:!0},on:{preview:e.handlePreview}})],1),a("a-form-model-item",{attrs:{label:"创建人"}},[a("span",[e._v(e._s(e.form.revocator))])]),a("a-form-model-item",{attrs:{label:"创建时间"}},[a("span",[e._v(e._s(e.form.revokeTime))])]),a("a-form-model-item",{attrs:{label:"审批状态"}},[a("span",[e._v(e._s(e._f("auditStatus")(e.form.auditStatus)))])])],1)],1),e.imgViewOpts.imgVisible?a("img-view",{ref:"imgView",attrs:{"img-visible":e.imgViewOpts.imgVisible,"view-src":e.imgViewOpts.viewSrc},on:{"update:imgVisible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},"update:img-visible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},viewEmit:e.mediaSwitch}}):e._e()],1)},d=[],m=(a("4194"),a("3353")),u=a("2af9"),p={name:"IllLeaveStuDetailsModal",components:{ImgView:u["i"]},mixins:[m["a"]],data:function(){return{form:{},picIndex:0,imgViewOpts:{viewSrc:"",imgVisible:!1}}},created:function(){this.getInit()},methods:{getInit:function(){this.form=Object.assign({},this.form,this.record)},handlePreview:function(e){var t=this;this.imgViewOpts.imgVisible=!0,this.imgViewOpts.viewSrc=e.url,this.$nextTick((function(){t.$refs.imgView.init()}))},mediaSwitch:function(e){var t=this;this.picIndex=e?this.picIndex+1>=this.form.diagnosisTreat.length?0:this.picIndex+1:this.picIndex<=0?this.form.diagnosisTreat.length-1:this.picIndex-1;var a=this.form.diagnosisTreat.find((function(e,a){return a==t.picIndex})).url;this.imgViewOpts.viewSrc=a,this.$nextTick((function(){t.$refs.imgView.init()}))}}},f=p,h=(a("d64c"),a("9ca4")),v=Object(h["a"])(f,c,d,!1,null,"a7782d56",null),g=v.exports,b=a("f8ac"),y=[{title:"姓名",dataIndex:"stuName"},{title:"性别",dataIndex:"sex",scopedSlots:{customRender:"sex"}},{title:"学段",dataIndex:"period"},{title:"学年",dataIndex:"schoolYear"},{title:"班级",dataIndex:"class"},{title:"开始时间",dataIndex:"startTime"},{title:"结束时间",dataIndex:"endTime"},{title:"请假时长",dataIndex:"durationLeave"},{title:"病因",dataIndex:"pathogeny"},{title:"症状",dataIndex:"symptom"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],_={name:"AbsentList",components:{IllLeaveStuDetailsModal:g},mixins:[n["a"]],data:function(){var e=this;return this.columns=y,{headScr:{school:void 0},queryParam:{},schoolList:[],peopleNum:55,loadData:function(){return e.scrDataLoad()},stuDetailsModal:{settings:{title:"查看请假信息",width:600},status:0,record:{},visible:!1}}},computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])({orgProperty:function(e){return e.user.orgInfo.orgProperty},orgId:function(e){return e.user.orgInfo.orgId},roleType:function(e){return e.user.roles.roleType},areaOptions:function(e){return e.area.areaOptions}})),{},{canSchoolSelect:function(){return 20==this.orgProperty&&[10,20].includes(this.roleType)}}),created:function(){20==this.orgProperty&&(this.headScr.school=this.orgId),this.UserDataRange(),this.getSelectList()},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])("area",["UserDataRange"])),{},{getSelectList:function(){this.schoolList=[{orgId:"224285397914628096",orgName:"第二附属中学"},{orgId:"221286180665360384",orgName:"天都小学"}],this.sexList=[{id:1,name:"男"},{id:2,name:"女"}]},scrDataLoad:function(){return new Promise((function(e){var t={list:b["a"],pageNum:1,pageSize:10,total:"4",totalPage:"1"};e(t)}))},handleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.act,a=Object(o["a"])(e,["act"]);switch(t){case 0:var s=[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"image.png",status:"done",url:"http://122.112.220.75:9000/medical/20191017-12/9f5a3fa5-3180-4534-85ea-4d96ea74d464?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=root%2F20200923%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20200923T090824Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c3f0f3ee28a92541c8410f18121eb849d1dfd205d6042e9332c3d9661887cf36"}];this.setModel("stuDetailsModal",{},0,Object(i["a"])(Object(i["a"])({},a),{},{diagnosisTreat:s}));break;case 1:this.$message.info("切换学校");break}},setModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this[e].settings=Object(i["a"])(Object(i["a"])({},this[e].settings),t),this[e].status=a,this[e].record=s,this[e].visible=r}})},w=_,x=Object(h["a"])(w,s,r,!1,null,"a4d023c4",null);t["default"]=x.exports},"45b6":function(e,t,a){},"47dd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header-cond"},[a("a-card",[a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-between",align:"middle"}},[a("a-col",{attrs:{span:4}},[e.canSchoolSelect?a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.schoolList,"label-key":"orgName","value-key":"orgId","dropdown-class-name":"custom-z-index",placeholder:"请选择学校"},on:{change:function(t){return e.handleClick({act:1})}},model:{value:e.headScr.school,callback:function(t){e.$set(e.headScr,"school",t)},expression:"headScr.school"}}):e._e()],1),a("a-col",{staticClass:"cond-num",attrs:{span:14}},[a("p",[e._v("待审批 "+e._s(e._f("numberFormat")(e.peopleNum))+"人")])])],1)],1)],1),a("div",[a("a-card",[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form-model",{ref:"form",attrs:{model:e.queryParam,layout:"inline"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学段",prop:"period"}},[a("drop-selector",{attrs:{"allow-clear":"","label-key":"label","value-key":"value",data:e.$g.schoolType,placeholder:"请选择学段"},on:{change:e.handleSearch},model:{value:e.queryParam.period,callback:function(t){e.$set(e.queryParam,"period",t)},expression:"queryParam.period"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学年",prop:"schoolYear"}},[a("drop-selector",{attrs:{"allow-clear":"",data:e.schoolYearList,placeholder:"请选择学年"},on:{change:e.handleSearch},model:{value:e.queryParam.schoolYear,callback:function(t){e.$set(e.queryParam,"schoolYear",t)},expression:"queryParam.schoolYear"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"班级",prop:"class"}},[a("drop-selector",{attrs:{"allow-clear":"",data:e.classList,placeholder:"请选择班级"},on:{change:e.handleSearch},model:{value:e.queryParam.class,callback:function(t){e.$set(e.queryParam,"class",t)},expression:"queryParam.class"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"性别",prop:"sex"}},[a("drop-selector",{attrs:{"allow-clear":"",data:e.sexList,placeholder:"请选择性别"},on:{change:e.handleSearch},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-model-item",{attrs:{label:"时间范围",prop:"rangeTime"}},[a("range-picker",{model:{value:e.queryParam.rangeTime,callback:function(t){e.$set(e.queryParam,"rangeTime",t)},expression:"queryParam.rangeTime"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学生姓名",prop:"stuName"}},[a("a-input",{attrs:{placeholder:"请输入学生姓名"},model:{value:e.queryParam.stuName,callback:function(t){e.$set(e.queryParam,"stuName",t)},expression:"queryParam.stuName"}})],1)],1),a("a-col",{attrs:{md:e.advanced?24:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{ghost:"",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetSearch("form")}}},[e._v("重置")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default","row-key":"id",columns:e.columns,data:e.loadData,alert:!1,"show-pagination":"auto"},scopedSlots:e._u([{key:"sex",fn:function(t){return[e._v(e._s(e._f("getSex")(t)))]}},{key:"description",fn:function(t,a){return[e._v(e._s(t)+"（"+e._s(a.applyPhone)+"）")]}},{key:"action",fn:function(t,s){return[e.canSee(s)?a("a",{on:{click:function(t){return e.handleClick(Object.assign({},{act:0},s))}}},[e._v("查看")]):e._e()]}}])})],1)],1),e.stuDetailsModal.visible?a("stu-details-modal",e._b({attrs:{visible:e.stuDetailsModal.visible},on:{"update:visible":function(t){return e.$set(e.stuDetailsModal,"visible",t)}}},"stu-details-modal",e.stuDetailsModal,!1)):e._e()],1)},r=[],o=(a("b130"),a("e18c"),a("6ee4")),i=a("e793"),n=a("55c3"),l=a("9f3a"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",e._b({attrs:{"dialog-class":"stu-details-modal"},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("a-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.handleCancel}},[e._v("确定")])]},proxy:!0}])},"a-modal",e.options,!1),[a("a-spin",{attrs:{spinning:e.loading}},[a("a-form-model",{staticClass:"isView",attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"姓名"}},[a("span",[e._v(e._s(e.form.stuName))])]),a("a-form-model-item",{attrs:{label:"性别"}},[a("span",[e._v(e._s(e._f("getSex")(e.form.sex)))])]),a("a-form-model-item",{attrs:{label:"出生日期"}},[a("span",[e._v(e._s(e.form.birth))])]),a("a-form-model-item",{attrs:{label:"学段"}},[a("span",[e._v(e._s(e.form.period))])]),a("a-form-model-item",{attrs:{label:"学年"}},[a("span",[e._v(e._s(e.form.schoolYear))])]),a("a-form-model-item",{attrs:{label:"班级"}},[a("span",[e._v(e._s(e.form.class))])]),a("a-form-model-item",{attrs:{label:"请假开始时间"}},[a("span",[e._v(e._s(e.form.startTime))])]),a("a-form-model-item",{attrs:{label:"请假结束时间"}},[a("span",[e._v(e._s(e.form.endTime))])]),a("a-form-model-item",{attrs:{label:"请假时长"}},[a("span",[e._v(e._s(e.form.durationLeave))])]),a("a-form-model-item",{attrs:{label:"请假类型"}},[a("span",[e._v(e._s(e._f("leaveStatus")(e.form.notCheckType)))])]),a("a-form-model-item",{attrs:{label:"病因"}},[a("span",[e._v(e._s(e.form.pathogeny))])]),a("a-form-model-item",{attrs:{label:"症状"}},[a("span",[e._v(e._s(e.form.symptom))])]),a("a-form-model-item",{attrs:{label:"附件"}},[a("a-upload",{attrs:{accept:".png, .jpg, .pdf, .tif, .jpeg, .JPG, .JPEG, .PNG",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":e.form.diagnosisTreat,multiple:!0},on:{preview:e.handlePreview}})],1),a("a-form-model-item",{attrs:{label:"审批状态"}},[a("span",[e._v(e._s(e._f("auditStatus")(e.form.auditStatus)))])]),a("a-form-model-item",{attrs:{label:"审批人"}},[a("span",[e._v(e._s(e.form.approveedBy))])]),a("a-form-model-item",{attrs:{label:"审批时间"}},[a("span",[e._v(e._s(e.form.approveTime))])]),a("a-form-model-item",{attrs:{label:"申请人"}},[a("span",[e._v(e._s(e.form.revocator))])]),a("a-form-model-item",{attrs:{label:"申请时间"}},[a("span",[e._v(e._s(e.form.revokeTime))])])],1)],1),e.imgViewOpts.imgVisible?a("img-view",{ref:"imgView",attrs:{"img-visible":e.imgViewOpts.imgVisible,"view-src":e.imgViewOpts.viewSrc},on:{"update:imgVisible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},"update:img-visible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},viewEmit:e.mediaSwitch}}):e._e()],1)},d=[],m=(a("4194"),a("3353")),u=a("2af9"),p={name:"StuDetailsModal",components:{ImgView:u["i"]},mixins:[m["a"]],data:function(){return{form:{},picIndex:0,imgViewOpts:{viewSrc:"",imgVisible:!1}}},created:function(){this.getInit()},methods:{getInit:function(){this.form=Object.assign({},this.form,this.record)},handlePreview:function(e){var t=this;this.imgViewOpts.imgVisible=!0,this.imgViewOpts.viewSrc=e.url,this.$nextTick((function(){t.$refs.imgView.init()}))},mediaSwitch:function(e){var t=this;this.picIndex=e?this.picIndex+1>=this.form.diagnosisTreat.length?0:this.picIndex+1:this.picIndex<=0?this.form.diagnosisTreat.length-1:this.picIndex-1;var a=this.form.diagnosisTreat.find((function(e,a){return a==t.picIndex})).url;this.imgViewOpts.viewSrc=a,this.$nextTick((function(){t.$refs.imgView.init()}))}}},f=p,h=(a("960e"),a("9ca4")),v=Object(h["a"])(f,c,d,!1,null,"a6a52040",null),g=v.exports,b=a("f8ac"),y=[{title:"姓名",dataIndex:"stuName"},{title:"性别",dataIndex:"sex",scopedSlots:{customRender:"sex"}},{title:"学段",dataIndex:"period"},{title:"学年",dataIndex:"schoolYear"},{title:"班级",dataIndex:"class"},{title:"开始时间",dataIndex:"startTime"},{title:"结束时间",dataIndex:"endTime"},{title:"请假时长",dataIndex:"durationLeave"},{title:"病因",dataIndex:"pathogeny"},{title:"症状",dataIndex:"symptom"},{title:"申请人",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"申请时间",dataIndex:"createdTime"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],_={name:"AbsentList",components:{StuDetailsModal:g},mixins:[n["a"]],data:function(){var e=this;return this.columns=y,{headScr:{school:void 0},queryParam:{},schoolList:[],peopleNum:55,loadData:function(){return e.scrDataLoad()},stuDetailsModal:{settings:{title:"查看因病缺课信息",width:600},status:0,record:{},visible:!1}}},computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])({orgProperty:function(e){return e.user.orgInfo.orgProperty},orgId:function(e){return e.user.orgInfo.orgId},roleType:function(e){return e.user.roles.roleType}})),{},{canSchoolSelect:function(){return 20==this.orgProperty&&[10,20].includes(this.roleType)},canSee:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.notCheckType,a=e.auditStatus;return t&&1==a}}}),created:function(){20==this.orgProperty&&(this.headScr.school=this.orgId),this.getSelectList()},methods:{getSelectList:function(){this.schoolList=[{orgId:"224285397914628096",orgName:"第二附属中学"},{orgId:"221286180665360384",orgName:"天都小学"}],this.schoolYearList=[{id:1,name:"2019"},{id:2,name:"2020"}],this.classList=[{id:1,name:"01"},{id:2,name:"02"}],this.sexList=[{id:1,name:"男"},{id:2,name:"女"}]},scrDataLoad:function(){return new Promise((function(e){var t={list:b["a"],pageNum:1,pageSize:10,total:"4",totalPage:"1"};e(t)}))},handleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.act,a=Object(o["a"])(e,["act"]);switch(t){case 0:var s=[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"image.png",status:"done",url:"http://122.112.220.75:9000/medical/20191017-12/9f5a3fa5-3180-4534-85ea-4d96ea74d464?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=root%2F20200923%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20200923T090824Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c3f0f3ee28a92541c8410f18121eb849d1dfd205d6042e9332c3d9661887cf36"}];this.setModel("stuDetailsModal",{},0,Object(i["a"])(Object(i["a"])({},a),{},{diagnosisTreat:s}));break;case 1:this.$message.info("切换学校");break}},setModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this[e].settings=Object(i["a"])(Object(i["a"])({},this[e].settings),t),this[e].status=a,this[e].record=s,this[e].visible=r}}},w=_,x=(a("87a0"),Object(h["a"])(w,s,r,!1,null,"4a1b1b36",null));t["default"]=x.exports},"55c3":function(e,t,a){"use strict";a("b130"),a("e18c"),a("90aa");var s=a("e793"),r=(a("6a61"),a("cf7f"));t["a"]={data:function(){var e=this;return{advanced:!1,loadData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var r,o,i,n,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e._beforeGetList)||void 0===r?void 0:r.call(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return i=t.t0,n=e.getQuery(Object(s["a"])(Object(s["a"])({},e.queryParam),a),i),t.next=9,e.apiList(n);case 9:if(l=t.sent,c=l.data,t.t1=c,!t.t1){t.next=15;break}return t.next=15,null===(o=e._afterGetList)||void 0===o?void 0:o.call(e,c);case 15:return console.log(c),t.abrupt("return",c);case 17:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}(),selectedRowKeys:[],selectedRows:[]}},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}}},methods:{advancedFn:function(){this.advanced=!this.advanced},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},getQuery:function(e,t){var a=Object.assign({},e);for(var s in a)0!==a[s]&&!a[s]&&delete a[s],t.includes(s)&&delete a[s];return a},handleSearch:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.table.refresh(e),this.selectedRowKeys=[],this.selectedRows=[]},resetSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(a){t.$refs[e].resetFields(),a()}));case 2:t.handleSearch();case 3:case"end":return a.stop()}}),a)})))()}}}},"5e0f":function(e,t,a){"use strict";var s=a("ddef"),r=a.n(s);r.a},"60bb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header-cond"},[a("a-card",[a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-between",align:"middle"}},[a("a-col",{attrs:{span:4}},[e.canSchoolSelect?a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.shoolList,placeholder:"请选择"},on:{click:e.handleSearch},model:{value:e.queryParam.shoolId,callback:function(t){e.$set(e.queryParam,"shoolId",t)},expression:"queryParam.shoolId"}}):e._e()],1),a("a-col",{staticClass:"cond-num",attrs:{span:14}},[a("div",{staticClass:"top-stat"},[a("span",[e._v("待审批 "+e._s(e._f("numberFormat")(e.approveData.pending))+"人")]),a("span",[e._v("已通过 "+e._s(e._f("numberFormat")(e.approveData.passed))+"人")]),a("span",[e._v("已拒绝 "+e._s(e._f("numberFormat")(e.approveData.rejected))+"人")]),a("span",[e._v("已撤销 "+e._s(e._f("numberFormat")(e.approveData.revoked))+"人")])])])],1)],1)],1),a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form-model",{ref:"form",attrs:{model:e.queryParam,layout:"inline"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学段",prop:"id"}},[a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.schoolTypeList,placeholder:"请选择"},on:{click:e.handleSearch},model:{value:e.queryParam.prefx,callback:function(t){e.$set(e.queryParam,"prefx",t)},expression:"queryParam.prefx"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学年",prop:"id"}},[a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.schoolYearList,placeholder:"请选择"},on:{click:e.handleSearch},model:{value:e.queryParam.schoolYear,callback:function(t){e.$set(e.queryParam,"schoolYear",t)},expression:"queryParam.schoolYear"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"班级",prop:"id"}},[a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.classList,placeholder:"请选择"},on:{click:e.handleSearch},model:{value:e.queryParam.class,callback:function(t){e.$set(e.queryParam,"class",t)},expression:"queryParam.class"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"性别",prop:"id"}},[a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.sexList,placeholder:"请选择"},on:{click:e.handleSearch},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-model-item",{attrs:{label:"请假时间范围",prop:"date"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"YYYY-MM-DD"},model:{value:e.queryParam.date,callback:function(t){e.$set(e.queryParam,"date",t)},expression:"queryParam.date"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"请假类型",prop:"id"}},[a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.leaveTypeList,placeholder:"请选择"},model:{value:e.queryParam.leaveType,callback:function(t){e.$set(e.queryParam,"leaveType",t)},expression:"queryParam.leaveType"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"学生姓名",prop:"callNo"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"输入学生姓名"},model:{value:e.queryParam.key,callback:function(t){e.$set(e.queryParam,"key","string"===typeof t?t.trim():t)},expression:"queryParam.key"}})],1)],1),a("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{ghost:"",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("form")}}},[e._v("重置")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleClick({key:"21"})}}},[e._v("添加请假学生")]),e.selectedRowKeys.length>0?a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleClick},slot:"overlay"},[a("a-menu-item",{key:"11"},[e._v(" 审批 ")]),a("a-menu-item",{key:"31"},[e._v(" 撤销 ")])],1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),a("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),a("div",{staticClass:"table-operator"},[a("a-form-model",{ref:"form1",attrs:{model:e.queryParam1,layout:"inline"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-model-item",{attrs:{label:"审批状态",prop:"auditStatus"}},[a("checkbox-select",{attrs:{"allow-clear":"",data:e.auditStatusList,placeholder:"请选择学段"},on:{change:e.handleSearch},model:{value:e.queryParam1.auditStatus,callback:function(t){e.$set(e.queryParam1,"auditStatus",t)},expression:"queryParam1.auditStatus"}})],1)],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default","row-key":"id",columns:e.columns,data:e.loadData,alert:!1,"show-pagination":"auto","row-selection":e.rowSelection,scroll:{x:1500}},scopedSlots:e._u([{key:"serial",fn:function(t,a,s){return[e._v(e._s(s+1))]}},{key:"dateLength",fn:function(t){return[e._v(e._s(t)+"天")]}},{key:"status",fn:function(t,s){return[0===t?a("a-tag",{attrs:{color:e._f("statusTypeFilter")(t)}},[e._v(e._s(e._f("statusFilter")(t)))]):a("a-popover",{attrs:{placement:"right"}},[a("template",{slot:"content"},[a("p",[e._v("审批人："+e._s(s.approver))]),3===t?a("p",[e._v("撤销时间："+e._s(s.approvalTime))]):[a("p",[e._v("审批时间："+e._s(s.approvalTime))]),2===t?a("p",[e._v("拒绝原因："+e._s(s.refuseReason))]):e._e()]],2),a("a-tag",{staticStyle:{cursor:"pointer"},attrs:{color:e._f("statusTypeFilter")(t)}},[e._v(e._s(e._f("statusFilter")(t)))])],2)]}},{key:"applicant",fn:function(t,s){return[a("p",[e._v(e._s(t))]),a("p",[e._v(e._s(s.applyPhone))])]}},{key:"action",fn:function(t,s){return[a("a",{on:{click:function(t){return e.handleClick(Object.assign({},{key:"4"},s))}}},[e._v("查看")]),a("a-divider",{attrs:{type:"vertical"}}),0===s.status?a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){var a=t.key;return e.handleClick(Object.assign({},{key:a},s))}},slot:"overlay"},[a("a-menu-item",{key:"1"},[e._v("审批")]),a("a-menu-item",{key:"2"},[e._v("编辑")]),a("a-menu-item",{key:"3"},[e._v("撤销")])],1),a("a",[e._v(" 更多 "),a("a-icon",{attrs:{type:"down"}})],1)],1):e._e()]}}])}),e.approveShow?a("approve-modal",e._b({attrs:{visible:e.approveShow},on:{"update:visible":function(t){e.approveShow=t},"on-submit-success":function(t){return e.handleSearch(!1)}}},"approve-modal",e.approveInfo,!1)):e._e(),e.addLeaveShow?a("add-leave-modal",e._b({attrs:{visible:e.addLeaveShow},on:{"update:visible":function(t){e.addLeaveShow=t},"on-submit-success":function(t){return e.handleSearch(!1)}}},"add-leave-modal",e.addLeaveInfo,!1)):e._e()],1)],1)},r=[],o=(a("b130"),a("e18c"),a("96db"),a("af86"),a("6ee4")),i=a("1998"),n=(a("6a61"),a("cf7f")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",e._b({on:{cancel:e.handleCancel}},"a-modal",e.options,!1),[a("a-spin",{attrs:{spinning:e.loading}},[2===e.type?a("p",[e._v("是否撤销 "+e._s(e.nameArr.length>3?e.nameArr.length+"人":e.nameArr.join(","))+" 的请假审批")]):1===e.type?a("a-form-model",{ref:"form",attrs:{layout:"vertical",model:e.form}},[a("a-form-model-item",{attrs:{label:"是否通过 "+(e.nameArr.length>3?e.nameArr.length+"人":e.nameArr.join(","))+" 的请假审批"}},[a("radio-select",{attrs:{"label-key":"name","value-key":"id","allow-clear":"",data:e.flagList},model:{value:e.form.flag,callback:function(t){e.$set(e.form,"flag",t)},expression:"form.flag"}})],1),0===e.form.flag?a("a-form-model-item",{attrs:{label:"拒绝原因"}},[a("a-textarea",{attrs:{placeholder:"请填写拒绝原因","auto-size":{minRows:3,maxRows:5},"max-length":500,"allow-clear":""},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc","string"===typeof t?t.trim():t)},expression:"form.desc"}})],1):e._e()],1):e._e()],1),a("template",{slot:"footer"},[a("a-button",{on:{click:e.handleCancel}},[e._v("取消")]),a("a-button",{attrs:{type:"primary",loading:e.confirmLoading,disabled:e.btnDisabled},on:{click:e.handleOk}},[e._v("确定")])],1)],2)},c=[],d=(a("2eeb"),a("053b"),a("3353")),m={name:"ApproveModel",mixins:[d["a"]],data:function(){return{flagList:[{id:1,name:"通过"},{id:0,name:"拒绝"}],form:{flag:"",desc:""},nameArr:[]}},computed:{type:function(){return this.record.type},btnDisabled:function(){return 1===this.type&&(""===this.form.flag||0===this.form.flag&&this.form.desc.length<2)}},created:function(){this.init()},methods:{init:function(){this.nameArr=this.record.list.map((function(e){return e.name}))},handleOk:function(){this.submit()},submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmLoading=!0,console.log(1===e.type?"审批":"撤销",e.form),setTimeout((function(){e.$message.success("操作成功"),e.$emit("on-submit-success"),e.handleCancel()}),2e3);case 3:case"end":return t.stop()}}),t)})))()}}},u=m,p=a("9ca4"),f=Object(p["a"])(u,l,c,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",e._b({on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[e.isView?e._e():a("a-button",{on:{click:e.handleCancel}},[e._v("取消")]),a("a-button",{attrs:{type:"primary",loading:e.submitLoading,disabled:e.loading},on:{click:e.handleOk}},[e._v(" "+e._s(e.isView?"确定":"提交")+" ")])]},proxy:!0}])},"a-modal",e.options,!1),[a("a-spin",{attrs:{spinning:e.loading}},[a("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"选择学生",prop:"stuId"}},[e.isAdd?a("a-select",{attrs:{"show-search":"","allow-clear":"","option-label-prop":"label","default-active-first-option":!1,"dropdown-match-select-width":!1,"filter-option":!1,"not-found-content":null},on:{search:e.handleSearch,change:e.handleChange},model:{value:e.form.stuId,callback:function(t){e.$set(e.form,"stuId",t)},expression:"form.stuId"}},e._l(e.studentList,(function(t){return a("a-select-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("ul",{staticClass:"drop-option"},[a("li",[e._v(e._s(t.name))]),a("li",[e._v(e._s(t.sex))]),a("li",[e._v(e._s(t.birth))]),a("li",[e._v(e._s(t.prefx)+"-"+e._s(t.schoolYear)+"-"+e._s(t.class))])])])})),1):a("span",[e._v(e._s(e.form.name))])],1),a("a-form-model-item",{attrs:{label:"请假开始时间",prop:"startTime"}},[e.isView?a("span",[e._v(e._s(e.form.start))]):a("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"","value-format":"YYYY-MM-DD HH",format:"YYYY-MM-DD a",placeholder:"请选择开始时间"},on:{ok:e.startOkHandle},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),a("a-form-model-item",{attrs:{label:"请假结束时间",prop:"endTime"}},[e.isView?a("span",[e._v(e._s(e.form.end))]):a("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"","value-format":"YYYY-MM-DD HH",format:"YYYY-MM-DD a",placeholder:"请选择开始时间"},on:{ok:e.endOkHandle},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("a-form-model-item",{attrs:{label:"请假时长",prop:"dateLength"}},[a("span",[e._v(e._s(e.form.dateLength)+"天")])]),a("a-form-model-item",{attrs:{label:"请假类型",prop:"leaveType"}},[e.isView?a("span",[e._v(e._s("1"===e.form.leaveType?"事假":"病假"))]):a("radio-select",{attrs:{"label-key":"name","value-key":"id","allow-clear":"",data:e.leaveTypeList},model:{value:e.form.leaveType,callback:function(t){e.$set(e.form,"leaveType",t)},expression:"form.leaveType"}})],1),"1"===e.form.leaveType?a("a-form-model-item",{attrs:{label:"请假原因",prop:"leaveReason"}},[e.isView?a("span",[e._v(e._s(e.form.leaveReason))]):a("a-textarea",{attrs:{placeholder:"请填写请假原因","auto-size":{minRows:3,maxRows:5},"max-length":500,"allow-clear":""},model:{value:e.form.leaveReason,callback:function(t){e.$set(e.form,"leaveReason","string"===typeof t?t.trim():t)},expression:"form.leaveReason"}})],1):"2"===e.form.leaveType?[a("a-form-model-item",{attrs:{label:"病因",prop:"cause"}},[a("drop-selector",{attrs:{disabled:e.isView,data:e.causeList,placeholder:"请选择病因"},model:{value:e.form.cause,callback:function(t){e.$set(e.form,"cause",t)},expression:"form.cause"}})],1),a("a-form-model-item",{attrs:{label:"症状",prop:"symptom"}},[e.isView?a("span",[e._v(e._s(e.form.symptom))]):a("a-textarea",{attrs:{placeholder:"请填写症状","auto-size":{minRows:3,maxRows:5},"max-length":500,"allow-clear":""},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom","string"===typeof t?t.trim():t)},expression:"form.symptom"}})],1)]:e._e(),a("a-form-model-item",{attrs:{label:"附件"}},[e.isView&&!e.fileList.length?a("p",[e._v("暂无图片")]):a("a-upload",{attrs:{"list-type":"picture-card","file-list":e.fileList,"before-upload":e.beforeUpload,disabled:e.isView},on:{change:e.imageChange,preview:e.handlePreview}},[!e.isView&&e.fileList.length<8?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" Upload ")])],1):e._e()]),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.previewCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],2)],1),e.imgViewOpts.imgVisible?a("img-view",{ref:"imgView",attrs:{"img-visible":e.imgViewOpts.imgVisible,"view-src":e.imgViewOpts.viewSrc},on:{"update:imgVisible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},"update:img-visible":function(t){return e.$set(e.imgViewOpts,"imgVisible",t)},viewEmit:e.mediaSwitch}}):e._e()],1)},g=[],b=(a("b4fb"),a("4194"),a("ecb4"),a("9302"),a("e35a"),a("0d7a"),a("5748")),y=a("e793"),_=a("3ed0"),w=a.n(_),x=a("ca00"),k=a("9641"),S=a("ec50"),T=(a("c621"),a("84db")),L={stuId:Object(y["a"])(Object(y["a"])({},S["c"]),{},{message:"请选择学生"}),startTime:Object(y["a"])(Object(y["a"])({},S["c"]),{},{message:"请选择开始时间"}),endTime:Object(y["a"])(Object(y["a"])({},S["c"]),{},{message:"请选择结束时间"}),leaveType:Object(y["a"])(Object(y["a"])({},S["d"]),{},{message:"请选择请假类型"}),leaveReason:Object(y["a"])(Object(y["a"])({},S["b"]),{},{message:"请填写请假原因"}),cause:Object(y["a"])(Object(y["a"])({},S["c"]),{},{message:"请选择病因"}),symptom:Object(y["a"])(Object(y["a"])({},S["b"]),{},{message:"请填写症状"})},I=[{id:"1",name:"事假"},{id:"2",name:"病假"}],N=[{id:"",name:"请选择"},{id:"1",name:"感冒"},{id:"2",name:"气管炎、肺炎"},{id:"3",name:"胃肠道疾病"},{id:"4",name:"心脏病"},{id:"5",name:"眼病"},{id:"6",name:"牙病"},{id:"7",name:"耳鼻喉疾病"},{id:"8",name:"泌尿科疾病"},{id:"9",name:"神经衰弱"},{id:"10",name:"意外伤害"},{id:"11",name:"结核"},{id:"12",name:"肺炎"},{id:"13",name:"其他传染病"},{id:"14",name:"病因不明"},{id:"15",name:"心理问题"},{id:"16",name:"其他"}];function O(e){return new Promise((function(t,a){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return t(s.result)},s.onerror=function(e){return a(e)}}))}var P=[{id:"1",name:"王晓峰",sex:"男",birth:"2001-12-12",prefx:"小学",schoolYear:"2019",class:"01"}],C={name:"AddLeaveModal",components:{ImgView:T["a"]},mixins:[k["a"]],data:function(){return this.leaveTypeList=I,this.causeList=N,this.studentData=P,{submitLoading:!1,form:{stuId:void 0,dateLength:"0.5"},stuId:"",studentList:[],previewVisible:!1,previewImage:"",fileList:[],picIndex:0,imgViewOpts:{viewSrc:"",imgVisible:!1}}},computed:{isAdd:function(){return 0===this.record.status},isEdit:function(){return 1===this.record.status},isView:function(){return 2===this.record.status},rules:function(){return this.isView?{}:L}},created:function(){this.validate=Object(x["b"])(this.validate),this.studentList=this.studentData,!this.isAdd&&(this.form=this.record.info),this.isEdit&&(this.form.startTime=this.dateInit(this.form.start),this.form.endTime=this.dateInit(this.form.end)),console.log(this.record)},methods:{dateInit:function(e){var t=e.split(" ");return"上午"===t[1]&&(t[1]="上午"===t[1]?"9":"14"),t.join(" ")},startOkHandle:function(e){this.form.start=w()(e).format("YYYY-MM-DD a")},endOkHandle:function(e){this.form.end=w()(e).format("YYYY-MM-DD a")},handleSearch:function(e){var t=this;setTimeout((function(){t.studentList=t.studentData.map((function(t){if(t.name.indexOf(e)>-1)return t})),console.log(t.studentList)}),300)},handleChange:function(e){console.log(e)},previewCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,O(e.originFileObj);case 3:e.preview=a.sent;case 4:t.imgViewOpts.imgVisible=!0,t.imgViewOpts.viewSrc=e.url||e.preview,t.$nextTick((function(){t.$refs.imgView.init()}));case 7:case"end":return a.stop()}}),a)})))()},imageChange:function(e){var t=e.fileList;this.fileList=t,console.log(t)},beforeUpload:function(e){return console.log("aaa"),this.fileList=[].concat(Object(b["a"])(this.fileList),[e]),!1},handleOk:function(){this.isView?this.handleCancel():this.validate()},validate:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a={};e.submit(a)}}))},submit:function(e){var t=this;this.submitLoading=!0,console.log("提交",this.form),setTimeout((function(){t.$message.success("提交成功"),t.$emit("on-submit-success",t.form),t.handleCancel()}),2e3)},mediaSwitch:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.picIndex=e?t.picIndex+1>=t.fileList.length?0:t.picIndex+1:t.picIndex<=0?t.fileList.length-1:t.picIndex-1,s=t.fileList.find((function(e,a){return a==t.picIndex})),s.url||s.preview){a.next=6;break}return a.next=5,O(s.originFileObj);case 5:s.preview=a.sent;case 6:t.imgViewOpts.viewSrc=s.url||s.preview,t.$nextTick((function(){t.$refs.imgView.init()}));case 8:case"end":return a.stop()}}),a)})))()}}},j=C,D=(a("5e0f"),Object(p["a"])(j,v,g,!1,null,"30bd1686",null)),V=D.exports,q=a("55c3"),$={pending:55,passed:55,rejected:55,revoked:55},R=[{title:"姓名",dataIndex:"name"},{title:"性别",dataIndex:"sex"},{title:"学段",dataIndex:"prefx"},{title:"学年",dataIndex:"schoolYear"},{title:"班级",dataIndex:"class"},{title:"开始时间",dataIndex:"start"},{title:"结束时间",dataIndex:"end"},{title:"请假时长",dataIndex:"dateLength",scopedSlots:{customRender:"dateLength"}},{title:"请假类型",dataIndex:"leaveType"},{title:"请假原因",dataIndex:"leaveReason"},{title:"审批状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"申请人",dataIndex:"applicant",width:120,scopedSlots:{customRender:"applicant"}},{title:"申请时间",dataIndex:"applyTime"},{title:"操作",dataIndex:"action",width:130,fixed:"right",scopedSlots:{customRender:"action"}}],Y={0:{status:"orange",text:"待审批"},1:{status:"purple",text:"已通过"},2:{status:"red",text:"已拒绝"},3:{status:"",text:"已撤销"}},A=[{id:"1",stuId:"1",name:"王晓峰",sex:"男",prefx:"小学",schoolYear:"2019",class:"01",start:"2020-7-7 上午",end:"2020-7-7 上午",leaveType:"1",dateLength:"0.5",leaveReason:"ddddddddddddd",status:0,applicant:"张三",applyPhone:"15236521478",applyTime:"2020-7-7 12:15",approvalTime:"2020-7-7 12:20",approver:"李四",refuseReason:""},{id:"2",stuId:"2",name:"壮壮",sex:"男",prefx:"小学",schoolYear:"2019",class:"01",start:"2020-7-7 上午",end:"2020-7-7 上午",leaveType:"2",dateLength:"0.5",leaveReason:"ddddddddddddd",status:1,applicant:"张三",applyPhone:"15236521478",applyTime:"2020-7-7 12:15",approvalTime:"2020-7-7 12:20",approver:"李四",refuseReason:"aaaaaaaaa",cause:"1",causeName:"感冒",symptom:"mmmmmmmmmm"},{id:"3",stuId:"3",name:"韩梅梅",sex:"女",prefx:"小学",schoolYear:"2019",class:"01",start:"2020-7-7 上午",end:"2020-7-7 上午",leaveType:"1",dateLength:"0.5",leaveReason:"ddddddddddddd",status:2,applicant:"张三",applyPhone:"15236521478",applyTime:"2020-7-7 12:15",approvalTime:"2020-7-7 12:20",approver:"李四",refuseReason:"这是一天拒绝的请假申请，你说怎么办呢，不行，还得拒绝"},{id:"4",stuId:"4",name:"李磊",sex:"男",prefx:"小学",schoolYear:"2019",class:"01",start:"2020-7-7 上午",end:"2020-7-7 上午",leaveType:"1",dateLength:"0.5",leaveReason:"ddddddddddddd",status:3,applicant:"张三",applyPhone:"15236521478",applyTime:"2020-7-7 12:15",approvalTime:"2020-7-7 12:20",approver:"李四",refuseReason:"aaaaaaaaa"}],M=[{id:1,name:"待审批"},{id:2,name:"已通过"},{id:3,name:"已拒绝"},{id:4,name:"已撤销"}],F={name:"TableList",components:{ApproveModal:h,AddLeaveModal:V},filters:{statusFilter:function(e){return Y[e].text},statusTypeFilter:function(e){return Y[e].status}},mixins:[q["a"]],data:function(){var e=this;return this.columns=R,this.auditStatusList=M,{approveData:{pending:35,passed:71,rejected:56,revoked:22},shoolList:[{id:"1",name:"第一小学"},{id:"2",name:"第二小学"},{id:"3",name:"第三小学"},{id:"4",name:"第四小学"}],schoolTypeList:[{id:"1",name:"学前"},{id:"2",name:"小学"},{id:"3",name:"初中"},{id:"4",name:"高中"},{id:"5",name:"大学"}],schoolYearList:[{id:"2020",name:"2020"},{id:"2019",name:"2019"},{id:"2018",name:"2018"},{id:"2017",name:"2017"}],classList:[{id:"1",name:"01班"},{id:"2",name:"02班"},{id:"3",name:"03班"},{id:"4",name:"04班"}],sexList:[{id:"1",name:"男"},{id:"2",name:"女"}],leaveTypeList:[{id:"1",name:"事假"},{id:"2",name:"病假"}],queryParam:{shoolId:"1",prefx:void 0,schoolYear:void 0,class:void 0,sex:void 0,leaveType:void 0,date:["",""],key:""},queryParam1:{auditStatus:[1,2]},loadData:function(){return e.scrDataLoad()},approveShow:!1,approveInfo:{loading:!1,record:{},settings:{title:"审批"}},addLeaveShow:!1,addLeaveInfo:{loading:!1,record:{},settings:{title:"审批",width:700}}}},computed:{canSchoolSelect:function(){return 20==this.orgProperty&&[10,20].includes(this.roleType)}},created:function(){},methods:{init:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.$message.loading("加载中...",0),Promise.all([e.getStaticData()]).then((function(t){var a=Object(i["a"])(t,1),s=a[0];e.approveData=s})).finally((function(){a()}));case 2:case"end":return t.stop()}}),t)})))()},scrDataLoad:function(){return new Promise((function(e){var t={list:A,pageNum:1,pageSize:10,total:"4",totalPage:"1"};e(t)}))},getStaticData:function(){return console.log($),new Promise((function(e){setTimeout((function(){e($)}),2e3)}))},handleClick:function(e){var t=e.key,a=Object(o["a"])(e,["key"]);switch(console.log("Click on item ".concat(t)),t){case"1":this.toApprove([a]);break;case"11":this.toApprove(this.selectedRows);break;case"3":this.toApprove([a],2);break;case"31":this.toApprove(this.selectedRows,2);break;case"21":this.toLeaveStudent({status:0});break;case"2":this.toLeaveStudent({status:1,info:a});break;case"4":this.toLeaveStudent({status:2,info:a});break}},toLeaveStudent:function(e){console.log("ssss",e),this.addLeaveShow=!0,this.addLeaveInfo.record=e},toApprove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.approveInfo.settings.title=1===t?"审批":"撤销",this.approveShow=!0,this.approveInfo.record={list:e,type:t}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}},z=F,U=(a("98b4"),a("290e"),Object(p["a"])(z,s,r,!1,null,"527607a2",null));t["default"]=U.exports},"6ee4":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("f3dd"),a("ecb4"),a("fe8a");function s(e,t){if(null==e)return{};var a,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)a=o[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}function r(e,t){if(null==e)return{};var a,r,o=s(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}},"715b":function(e,t,a){},"7abe":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[10===e.orgType?a("school-home"):30===e.orgType?a("org-home"):e._e()],1)},r=[],o=a("e793"),i=a("9f3a"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header-cond"},[a("a-card",[a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-between",align:"middle"}},[a("a-col",{attrs:{span:4}},[e.canSchoolSelect?a("drop-selector",{staticStyle:{width:"100%"},attrs:{data:e.schoolList,"label-key":"orgName","value-key":"orgId","dropdown-class-name":"custom-z-index",placeholder:"请选择学校"},on:{change:function(t){return e.handleClick({act:12})}},model:{value:e.headScr.school,callback:function(t){e.$set(e.headScr,"school",t)},expression:"headScr.school"}}):e._e()],1),a("a-col",{staticClass:"header-cond-pending-approval",attrs:{span:4}},[e._v("待审批 "+e._s(e._f("numberFormat")(e.peopleNum))+"人")])],1)],1)],1),a("div",{staticClass:"cont-case-report"},[a("a-card",[a("template",{slot:"title"},[a("div",{staticClass:"header"},[a("span",[e._v("请假情况")]),a("span",{staticClass:"descriptions"},[e._v("事假和病假人数统计")])])]),a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.addUpNum)))]),a("p",[e._v("累计请假人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.semesterNum)))]),a("p",[e._v("本学期请假人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.momthNum)))]),a("p",[e._v("本月请假人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.todayNum)))]),a("p",[e._v("今日请假人数")])])],1)],1)],2)],1),a("div",{staticClass:"cont-case-report"},[a("a-card",[a("template",{slot:"title"},[a("div",{staticClass:"header"},[a("span",[e._v("因病缺课情况")]),a("span",{staticClass:"descriptions"},[e._v("病假人数统计")])])]),a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.addUpNum1)))]),a("p",[e._v("累计因病缺课人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.semesterNum1)))]),a("p",[e._v("本学期因病缺课人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.momthNum1)))]),a("p",[e._v("本月因病缺课人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.todayNum1)))]),a("p",[e._v("今日因病缺课人数")])])],1)],1)],2)],1),a("div",[a("a-card",{attrs:{title:"统计"}},[e.lineData.length?a("line-chart",{attrs:{size:"350px",data:{columns:["dateTime","todayNum"],rows:e.lineData},settings:{labelMap:{todayNum:"请假人数"},yAxisName:["人数"]},extend:e.chartExtend,grid:e.chartGrid}}):e._e()],1)],1)])},l=[],c=(a("b130"),a("2af9")),d=[{dateTime:"2020-09-17",addUpNum:120,semesterNum:520,momthNum:220,todayNum:520},{dateTime:"2020-09-18",addUpNum:20,semesterNum:120,momthNum:220,todayNum:200},{dateTime:"2020-09-19",addUpNum:140,semesterNum:50,momthNum:320,todayNum:510},{dateTime:"2020-09-20",addUpNum:120,semesterNum:10,momthNum:220,todayNum:520},{dateTime:"2020-09-21",addUpNum:120,semesterNum:554,momthNum:70,todayNum:756},{dateTime:"2020-09-22",addUpNum:120,semesterNum:257,momthNum:50,todayNum:87},{dateTime:"2020-09-23",addUpNum:120,semesterNum:147,momthNum:770,todayNum:645},{dateTime:"2020-09-24",addUpNum:120,semesterNum:44,momthNum:40,todayNum:47},{dateTime:"2020-09-25",addUpNum:10,semesterNum:625,momthNum:81,todayNum:456},{dateTime:"2020-09-26",addUpNum:20,semesterNum:41,momthNum:420,todayNum:77},{dateTime:"2020-09-27",addUpNum:200,semesterNum:771,momthNum:45,todayNum:43},{dateTime:"2020-09-28",addUpNum:120,semesterNum:56,momthNum:111,todayNum:456},{dateTime:"2020-09-29",addUpNum:80,semesterNum:56,momthNum:82,todayNum:71},{dateTime:"2020-09-30",addUpNum:700,semesterNum:445,momthNum:57,todayNum:276}],m=[{cariesCount:10,name:"鹿城区"},{cariesCount:30,name:"龙湾区"},{cariesCount:50,name:"瓯海区"},{cariesCount:25,name:"洞头区"},{cariesCount:35,name:"永嘉县"},{cariesCount:16,name:"平阳县"},{cariesCount:72,name:"苍南县"},{cariesCount:9,name:"文成县"},{cariesCount:36,name:"泰顺县"},{cariesCount:42,name:"瑞安市"},{cariesCount:18,name:"乐清市"},{cariesCount:56,name:"集聚区"},{cariesCount:55,name:"市本级"}],u=[{cariesCount:10,name:"职业技术学校"},{cariesCount:30,name:"少年游泳学校"},{cariesCount:50,name:"茶山实验小学"},{cariesCount:25,name:"白鹿外国语学校"},{cariesCount:35,name:"益民民工子弟学校"},{cariesCount:16,name:"蒲州育英学校"},{cariesCount:72,name:"少年美术学校"},{cariesCount:9,name:"少年艺术学校"},{cariesCount:36,name:"仙岩第一小学"},{cariesCount:42,name:"新瓯学校"},{cariesCount:18,name:"泽雅中学"},{cariesCount:56,name:"新桥中学"},{cariesCount:55,name:"新桥第二小学"}],p=[{count:10,name:"幼儿园"},{count:30,name:"小学"},{count:50,name:"初中"},{count:25,name:"普高"},{count:35,name:"职高"},{count:16,name:"大学本科"},{count:72,name:"大学专科"}],f=[{id:"",name:"所有病因"},{id:"1",name:"感冒",count:76},{id:"2",name:"气管炎、肺炎",count:22},{id:"3",name:"胃肠道疾病",count:12},{id:"4",name:"心脏病",count:6},{id:"5",name:"眼病",count:58},{id:"6",name:"牙病",count:25},{id:"7",name:"耳鼻喉疾病",count:37},{id:"8",name:"泌尿科疾病",count:21},{id:"9",name:"神经衰弱",count:12},{id:"10",name:"意外伤害",count:40},{id:"11",name:"结核",count:0},{id:"12",name:"肺炎",count:12},{id:"13",name:"其他传染病",count:0},{id:"14",name:"病因不明",count:0},{id:"15",name:"心理问题",count:0},{id:"16",name:"其他",count:0}],h={legend:{show:!0,x:"right",y:"top",itemWidth:8,icon:"circle",orient:"horizontal"},xAxis:{axisLabel:{rotate:15}}},v={show:!0,top:53,bottom:0,left:0,right:0,containLabel:!0,backgroundColor:"transparent",borderColor:"transparent"},g={components:{LineChart:c["j"]},data:function(){return this.chartExtend=h,this.chartGrid=v,{headScr:{school:void 0},schoolList:[],lineData:[],peopleNum:55,addUpNum:3520,semesterNum:2120,momthNum:758,todayNum:48,addUpNum1:1728,semesterNum1:1285,momthNum1:362,todayNum1:108}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])({orgProperty:function(e){return e.user.orgInfo.orgProperty},orgId:function(e){return e.user.orgInfo.orgId},roleType:function(e){return e.user.roles.roleType}})),{},{canSchoolSelect:function(){return 20==this.orgProperty&&[10,20].includes(this.roleType)}}),created:function(){20==this.orgProperty&&(this.headScr.school=this.orgId),this.getSelectList()},methods:{getSelectList:function(){this.schoolList=[{orgId:"224285397914628096",orgName:"第二附属中学"},{orgId:"221286180665360384",orgName:"天都小学"}],this.censusData()},censusData:function(){var e=this;setTimeout((function(){e.lineData=d}),1e3)}}},b=g,y=(a("ef27"),a("9ca4")),_=Object(y["a"])(b,n,l,!1,null,"ae9b02ae",null),w=_.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"cont-case-report"},[a("a-card",{attrs:{title:"统计"}},[e.lineData.length?a("line-chart",{attrs:{size:"350px",data:{columns:["dateTime","momthNum"],rows:e.lineData},settings:{labelMap:{momthNum:"请假人数"},yAxisName:["人数"]},extend:e.chartExtend,grid:e.chartGrid}}):e._e()],1)],1),a("div",{staticClass:"cont-case-report stat-report"},[a("a-card",[a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.addUpNum)))]),a("p",[e._v("总病假人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.semesterNum)))]),a("p",[e._v("男生病假人数")])])],1),a("a-col",{attrs:{span:4}},[a("svg-icon",{attrs:{type:"iconbiaoqian"}}),a("div",[a("span",[e._v(e._s(e._f("numberFormat")(e.momthNum)))]),a("p",[e._v("女生病假人数")])])],1)],1)],1)],1),a("div",{staticClass:"cont-case-report"},[a("a-card",[a("a-row",{attrs:{gutter:[16,8],type:"flex",justify:"space-around",align:"middle"}},[a("a-col",{attrs:{span:12}},[a("a-card",{attrs:{title:"按学段统计"}},[a("ul",{staticClass:"stat-progress"},e._l(e.sectionData,(function(t,s){return a("li",{key:s,staticClass:"mb"},[a("span",[e._v(e._s(t.name))]),a("a-progress",{attrs:{percent:t.count,format:function(e){return e+"1人"}}})],1)})),0)])],1),a("a-col",{attrs:{span:12}},[a("a-card",{attrs:{title:"按病因统计"}},[a("ul",{staticClass:"stat-progress"},[e._l(e.causeList,(function(t,s){return[t.count?a("li",{key:s},[a("span",[e._v(e._s(t.name))]),a("a-progress",{attrs:{percent:t.count,format:function(e){return e+"2人"}}})],1):e._e()]}))],2)])],1)],1)],1)],1),a("div",{staticClass:"cont-case-report"},[a("a-card",{attrs:{title:"按地区统计"}},[a("a-radio-group",{attrs:{"default-value":"","button-style":"solid",size:"small"}},e._l(e.causeList,(function(t,s){return a("a-radio-button",{key:s,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1),e.singleBarData.length?a("histogram-chart",{attrs:{data:{columns:["name","cariesCount"],rows:e.singleBarData},settings:{yAxisName:["人数"],labelMap:{cariesCount:"缺课人数"},label:{show:!0,position:"top",color:"#666",formatter:function(e){var t=e.value;return t+"人"}}},extend:e.barExtend,grid:e.chartGrid}}):e._e()],1)],1),a("div",{staticClass:"cont-case-report"},[a("a-card",{attrs:{title:"按学校统计"}},[a("a-radio-group",{attrs:{"default-value":"","button-style":"solid",size:"small"}},e._l(e.causeList,(function(t,s){return a("a-radio-button",{key:s,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1),e.schoolBarData.length?a("histogram-chart",{attrs:{data:{columns:["name","cariesCount"],rows:e.schoolBarData},settings:{yAxisName:["人数"],labelMap:{cariesCount:"缺课人数"},label:{show:!0,position:"top",color:"#666",formatter:function(e){var t=e.value;return t+"人"}}},extend:e.barExtend,grid:e.chartGrid}}):e._e()],1)],1)])},k=[],S={legend:{show:!0,x:"right",y:"top",itemWidth:8,icon:"circle",orient:"horizontal"},xAxis:{axisLabel:{rotate:15}}},T={show:!0,top:53,bottom:0,left:0,right:0,containLabel:!0,backgroundColor:"transparent",borderColor:"transparent"},L={xAxis:{axisLabel:{rotate:15,formatter:function(e){var t="";return t||e}}}},I={components:{LineChart:c["j"],HistogramChart:c["g"]},data:function(){return this.chartExtend=S,this.chartGrid=T,this.barExtend=L,this.causeList=f,this.sectionData=p,{headScr:{school:void 0},schoolList:[],lineData:[],singleBarData:[],schoolBarData:[],peopleNum:55,addUpNum:3520,semesterNum:2320,momthNum:1220}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])({orgProperty:function(e){return e.user.orgInfo.orgProperty},orgId:function(e){return e.user.orgInfo.orgId},roleType:function(e){return e.user.roles.roleType}})),{},{canSchoolSelect:function(){return 20==this.orgProperty&&[10,20].includes(this.roleType)}}),created:function(){20==this.orgProperty&&(this.headScr.school=this.orgId),this.getSelectList()},methods:{getSelectList:function(){this.schoolList=[{orgId:"224285397914628096",orgName:"第二附属中学"},{orgId:"221286180665360384",orgName:"天都小学"}],this.censusData()},censusData:function(){var e=this;setTimeout((function(){e.lineData=d,e.singleBarData=m,e.schoolBarData=u}),1e3)}}},N=I,O=(a("06e4"),Object(y["a"])(N,x,k,!1,null,"442ab7a6",null)),P=O.exports,C={components:{SchoolHome:w,OrgHome:P},data:function(){return{}},computed:Object(o["a"])({},Object(i["c"])({orgType:function(e){return e.user.orgInfo.orgType}})),created:function(){},methods:{}},j=C,D=Object(y["a"])(j,s,r,!1,null,"dfdaf72e",null);t["default"]=D.exports},"87a0":function(e,t,a){"use strict";var s=a("715b"),r=a.n(s);r.a},"960e":function(e,t,a){"use strict";var s=a("0125"),r=a.n(s);r.a},9641:function(e,t,a){"use strict";var s=a("e793"),r=a("c0a4");t["a"]={props:{editAble:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},record:{type:Object,default:null},settings:{type:Object,default:function(){return{}}}},computed:{options:function(){return Object(s["a"])(Object(s["a"])({title:"弹窗",width:500,centered:!0,maskClosable:!1,destroyOnClose:!0},this.$attrs),this.settings)}},watch:{record:{handler:function(e){var t=Object.assign({},this.form,e);this.form=this.editAble?r["a"].observable(t):t},deep:!0,immediate:!0}},data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}}},methods:{handleCancel:function(){var e;this.$emit("update:visible",!1),this.editAble&&(null===(e=this.$refs.form)||void 0===e||e.resetFields())}}}},"98b4":function(e,t,a){"use strict";var s=a("a68e"),r=a.n(s);r.a},a68e:function(e,t,a){},ae2b:function(e,t,a){},d64c:function(e,t,a){"use strict";var s=a("267c"),r=a.n(s);r.a},d747:function(e,t,a){},ddef:function(e,t,a){},ef27:function(e,t,a){"use strict";var s=a("d747"),r=a.n(s);r.a},f8ac:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s=[{id:"1",stuId:1,stuName:"原木",sex:"1",period:"小学",schoolYear:"2019",class:"01",pathogeny:"低血糖",symptom:"头晕眼花",auditStatus:1,description:"张老师",applyPhone:"15230992581",createdTime:"2020-09-18",isLongLeave:1,isNoSports:1,phone:"13093758892",approveedBy:"海棠",approveTime:"2020-09-20 09:28",rejectReason:"需要加强体育锻炼",revocator:"常青藤",revokeTime:"2020-09-21 14:28",birth:"2010-10-10",startTime:"2020-09-20 上午",endTime:"2020-09-21 上午",durationLeave:"1天",notCheckType:1,reasonLeave:"牙齿疼痛肿胀，需要就医"},{id:"2",stuId:2,stuName:"百百香",sex:"1",period:"小学",schoolYear:"2019",class:"01",pathogeny:"低血糖",symptom:"头晕眼花",auditStatus:2,description:"张老师",applyPhone:"15230992581",createdTime:"2020-09-18",isLongLeave:1,isNoSports:1,phone:"13093758892",approveedBy:"海棠",approveTime:"2020-09-20 09:28",rejectReason:"需要加强体育锻炼",revocator:"常青藤",revokeTime:"2020-09-21 14:28",birth:"2010-10-10",startTime:"2020-09-20 上午",endTime:"2020-09-21 上午",durationLeave:"1天",notCheckType:1,reasonLeave:"牙齿疼痛肿胀，需要就医"},{id:"3",stuId:3,stuName:"紫莲",sex:"1",period:"小学",schoolYear:"2019",class:"01",pathogeny:"低血糖",symptom:"头晕眼花",auditStatus:3,description:"张老师",applyPhone:"15230992581",createdTime:"2020-09-18",isLongLeave:1,isNoSports:1,phone:"13093758892",approveedBy:"海棠",approveTime:"2020-09-20 09:28",rejectReason:"需要加强体育锻炼",revocator:"常青藤",revokeTime:"2020-09-21 14:28",birth:"2010-10-10",startTime:"2020-09-20 上午",endTime:"2020-09-21 上午",durationLeave:"1天",notCheckType:1,reasonLeave:"牙齿疼痛肿胀，需要就医"},{id:"4",stuId:4,stuName:"夏荷",sex:"1",period:"小学",schoolYear:"2019",class:"01",pathogeny:"低血糖",symptom:"头晕眼花",auditStatus:4,description:"张老师",applyPhone:"15230992581",createdTime:"2020-09-18",isLongLeave:1,isNoSports:1,phone:"13093758892",approveedBy:"海棠",approveTime:"2020-09-20 09:28",rejectReason:"需要加强体育锻炼",revocator:"常青藤",revokeTime:"2020-09-21 14:28",birth:"2010-10-10",startTime:"2020-09-20 上午",endTime:"2020-09-21 上午",durationLeave:"1天",notCheckType:0,reasonLeave:"牙齿疼痛肿胀，需要就医"},{id:"5",stuId:5,stuName:"天天",sex:"1",period:"小学",schoolYear:"2019",class:"01",pathogeny:"低血糖",symptom:"头晕眼花",auditStatus:3,description:"张老师",applyPhone:"15230992581",createdTime:"2020-09-18",isLongLeave:1,isNoSports:1,phone:"13093758892",approveedBy:"海棠",approveTime:"2020-09-20 09:28",rejectReason:"需要加强体育锻炼",revocator:"常青藤",revokeTime:"2020-09-21 14:28",birth:"2010-10-10",startTime:"2020-09-20 上午",endTime:"2020-09-20 下午",durationLeave:"0.5天",notCheckType:1,reasonLeave:"牙齿疼痛肿胀，需要就医"}]}}]);
//# sourceMappingURL=home.140a08a1.js.map