(window["webpackJsonp_SickLeave"]=window["webpackJsonp_SickLeave"]||[]).push([["user"],{"5c81":function(t,e,a){var o=a("5e87");t.exports={__esModule:!0,default:o.svgComponent({tag:"svg",attrsMap:{t:"1594270929973",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13132",width:"22",height:"22"},children:[{tag:"path",attrsMap:{d:"M823.652174 400.695652V351.721739C823.652174 138.017391 703.443478 0 512 0S200.347826 138.017391 200.347826 351.721739V400.695652c-75.686957 0-133.565217 57.878261-133.565217 133.565218v356.173913c0 75.686957 57.878261 133.565217 133.565217 133.565217h623.304348c75.686957 0 133.565217-57.878261 133.565217-133.565217v-356.173913c0-75.686957-57.878261-133.565217-133.565217-133.565218zM333.913043 351.721739C333.913043 284.93913 356.173913 133.565217 512 133.565217s178.086957 138.017391 178.086957 218.156522V400.695652H333.913043V351.721739z",fill:"#676A6C","p-id":"13133"}}]})}},"6f7b":function(t,e,a){var o=a("5e87");t.exports={__esModule:!0,default:o.svgComponent({tag:"svg",attrsMap:{t:"1594271040365",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14614",width:"22",height:"22"},children:[{tag:"path",attrsMap:{d:"M977.454545 1006.778182v-40.494546c0-97.28-146.618182-186.181818-308.596363-217.832727a46.545455 46.545455 0 0 1-32.116364-74.938182 335.127273 335.127273 0 0 0 61.44-121.018182 164.305455 164.305455 0 0 0 58.647273-108.916363c3.258182-65.163636-12.101818-68.421818-12.101818-68.421818 23.272727-71.214545 30.72-337.92-139.636364-306.269091C573.44 13.498182 394.705455-30.254545 311.389091 118.690909a316.043636 316.043636 0 0 0-24.669091 258.792727c0 6.050909-11.636364-6.050909-15.36 32.116364a197.352727 197.352727 0 0 0 31.185455 114.501818 77.265455 77.265455 0 0 0 29.323636 21.876364 297.890909 297.890909 0 0 0 62.370909 127.534545 71.214545 71.214545 0 0 1-37.236364 74.938182C195.025455 779.636364 46.545455 869.469091 46.545455 966.749091v40.494545z",fill:"#676A6C","p-id":"14615"}}]})}},"71a8":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("a-form-model",{ref:"form",staticClass:"user-layout-login",attrs:{model:t.form,rules:t.rules},on:{submit:t.handleSubmit},nativeOn:{submit:function(t){t.preventDefault()}}},[t.isLoginError?a("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error","show-icon":"",message:t.errorMsg}}):t._e(),a("a-form-model-item",{attrs:{prop:"account"}},[a("a-input",{attrs:{size:"large",type:"text",placeholder:"请输入帐户名"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},[a("a-icon",{attrs:{slot:"addonBefore",component:t.userSvg},slot:"addonBefore"})],1)],1),a("a-form-model-item",{attrs:{prop:"password"}},[a("a-input-password",{attrs:{size:"large",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[a("a-icon",{attrs:{slot:"addonBefore",component:t.pawSvg},slot:"addonBefore"})],1)],1),a("a-form-model-item",{attrs:{prop:"code"}},[a("a-input",{attrs:{type:"text",size:"large",placeholder:"验证码"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}},[a("a-icon",{attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),a("img",{attrs:{src:t.verifyCode.image,height:"40",alt:"加载失败",title:"点击刷新"},on:{click:t.getCaptcha}}),a("a-form-model-item",[a("a-checkbox",{model:{value:t.form.checked,callback:function(e){t.$set(t.form,"checked",e)},expression:"form.checked"}},[t._v("自动登录")])],1),a("a-form-model-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary","html-type":"submit",loading:t.state.loginBtn,disabled:t.state.loginBtn}},[t._v(" 登录 ")])],1)],1)],1)},r=[],s=(a("6a61"),a("cf7f")),n=a("e793"),i=a("ec50"),c=a("6f7b"),l=a.n(c),u=a("5c81"),d=a.n(u),p=a("9f3a"),f=a("ca00"),m=a("778c"),h=a("8593"),g=a("509f"),v=a.n(g),b=function(t,e){var a=new v.a;return a.setPublicKey(e),a.encrypt(t)},w={data:function(){return this.userSvg=l.a,this.pawSvg=d.a,{isLoginError:!1,errorMsg:"",form:{account:"",password:"",code:"",checked:!1},state:{loginBtn:!1},verifyCode:{image:"",key:""},rules:{account:{required:!0,message:"请输入帐户名",trigger:"blur"},password:i["a"],code:{required:!0,message:"请输入验证码",trigger:"blur"}}}},created:function(){var t,e;this.getCaptcha(),this.handleSubmit=Object(f["b"])(this.handleSubmit),this.getCaptcha=Object(f["b"])(this.getCaptcha,300),this.form.password=null!==(t=null===(e=this.$route.params)||void 0===e?void 0:e.password)&&void 0!==t?t:""},methods:Object(n["a"])(Object(n["a"])({},Object(p["b"])("user",["Login","Logout"])),{},{getCaptcha:function(){var t=this;this.form.captcha="",Object(h["a"])().then((function(e){t.verifyCode=e.data}))},handleSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&t.handleLogin()}))},handleLogin:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,o,r,s,n,i,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.state.loginBtn=!0,e.next=4,Object(h["c"])();case 4:return a=e.sent,o=a.data,r=t.form,s=r.account,n=r.password,i=r.code,c=r.checked,l=b(n,o),e.next=10,t.Login({account:s,password:l,code:i,checked:c,key:t.verifyCode.key});case 10:u=e.sent,t.loginSuccess(u),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),t.requestFailed(e.t0),t.state.loginBtn=!1;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},loginSuccess:function(){var t=this;this.$router.push({path:m["a"].path}).then((function(){setTimeout((function(){t.$notification.success({message:"欢迎",description:"".concat(Object(f["f"])(),"，欢迎回来")})}),3e3)})),this.isLoginError=!1},requestFailed:function(t){var e;console.error(t),this.errorMsg=null!==(e=null===t||void 0===t?void 0:t.message)&&void 0!==e?e:t?"系统开小差了，请联系管理人员！":"您的网络不稳定，请检查后重试！",this.isLoginError=!0,this.isLoginError=!1}})},x=w,k=(a("7483"),a("9ca4")),y=Object(k["a"])(x,o,r,!1,null,"2ba5962f",null);e["default"]=y.exports},7483:function(t,e,a){"use strict";var o=a("f0d3"),r=a.n(o);r.a},f0d3:function(t,e,a){}}]);
//# sourceMappingURL=user.80bc6447.js.map